<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AI å·¥å…·åŠŸèƒ½åˆ†é¡èˆ‡è©•åˆ†ç¸½è¦½</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji'; }
    .category-card { border-left: 5px solid; transition: transform .25s ease, box-shadow .25s ease; }
    .category-card:hover { transform: translateY(-4px) scale(1.01); box-shadow: 0 12px 20px -6px rgba(0,0,0,.15); }
    .rating-star { display: inline-flex; width: 1rem; height: 1rem; vertical-align: middle; }
    .sticky-nav { position: sticky; top: 0; z-index: 30; backdrop-filter: saturate(1.2) blur(6px); }
    .tool-link::after { content: "â†—"; margin-left: .25rem; font-size: .8em; }
    .back-to-top { position: fixed; right: 1rem; bottom: 1rem; display: none; }
  
/* Compact sticky header for mobile */
@media (max-width: 640px){
  .sticky-nav{ padding: 6px 10px !important; }
  .sticky-nav nav a{ font-size:.8rem !important; padding:.25rem .5rem !important; }
  .sticky-nav .flex{ gap:.5rem !important; }
  #searchInput{ padding:.5rem .6rem !important; font-size:.9rem !important; }
  #sortBtn, #resetBtn{ padding:.5rem .6rem !important; font-size:.85rem !important; }
}


/* Clearer tool link display */
.tool-link{
  color:#1E3A8A !important;
  font-weight:600;
  text-decoration:none !important;
  border-bottom:none !important;
}
.tool-link:hover{
  color:#2563EB !important;
  text-decoration:underline !important;
}
.tool-link::after{content:"";}

</style>
</head>
<body class="bg-gray-50 min-h-screen">
  <div class="max-w-7xl mx-auto px-4 md:px-8">
    <!-- Header -->
    <header class="text-center pt-8 pb-6">
      <h1 class="text-4xl md:text-5xl font-extrabold text-blue-800">ğŸ¤– AI å·¥å…·åŠŸèƒ½åˆ†é¡èˆ‡è©•åˆ†ç¸½è¦½</h1>
      <p class="mt-3 text-gray-600 text-lg">å„é¡ AI å·¥å…·çš„æ ¸å¿ƒåŠŸèƒ½ã€å„ªç¼ºé»ã€å¯¦ç”¨è©•æ¯”èˆ‡å¿«é€Ÿé€£çµã€‚</p>
    </header>

    <!-- Sticky Navigation / Controls -->
    <div class="sticky-nav bg-white/70 border border-gray-200 rounded-2xl shadow-sm p-4 mb-8">
      <div class="flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between">
        <!-- Anchor Nav -->
        <nav class="flex flex-wrap gap-2">
          <a href="#academic" class="px-3 py-1 rounded-lg bg-teal-100 hover:bg-teal-200 text-teal-800 text-sm font-semibold">ğŸ“‘ å­¸è¡“æœå°‹</a>
          <a href="#assistant" class="px-3 py-1 rounded-lg bg-indigo-100 hover:bg-indigo-200 text-indigo-800 text-sm font-semibold">ğŸŒ é€šç”¨åŠ©ç†</a>
          <a href="#internal"  class="px-3 py-1 rounded-lg bg-green-100 hover:bg-green-200 text-green-800 text-sm font-semibold">ğŸ“Š å…§éƒ¨è³‡æ–™</a>
          <a href="#visual"   class="px-3 py-1 rounded-lg bg-orange-100 hover:bg-orange-200 text-orange-800 text-sm font-semibold">ğŸ¨ è¦–è¦ºæ¦‚å¿µ</a>
          <a href="#eng"      class="px-3 py-1 rounded-lg bg-rose-100 hover:bg-rose-200 text-rose-800 text-sm font-semibold">âš™ï¸ å·¥ç¨‹å„ªåŒ–</a>
          <a href="#ppt"      class="px-3 py-1 rounded-lg bg-purple-100 hover:bg-purple-200 text-purple-800 text-sm font-semibold">ğŸ“„ ç°¡å ±è£½ä½œ</a>
        </nav>

        <!-- Controls -->
        <div class="flex flex-col sm:flex-row gap-3 w-full lg:w-auto">
          <input id="searchInput" type="search" placeholder="æœå°‹å·¥å…· / åŠŸèƒ½ / é—œéµå­—"
                 class="flex-1 sm:w-64 px-3 py-2 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white" />
          <button id="sortBtn" class="px-3 py-2 rounded-xl border bg-gray-900 text-white hover:bg-gray-800 text-sm font-semibold">
            ä¾è©•åˆ†é«˜â†’ä½æ’åº
          </button>
          <button id="resetBtn" class="px-3 py-2 rounded-xl border bg-white hover:bg-gray-50 text-sm font-semibold">
            é‡ç½®
          </button>
        </div>
      </div>
    </div>

    <!-- Container -->
    <div id="tool-container" class="space-y-12"></div>
  </div>

  <!-- Back to top -->
  <button id="backToTop" class="back-to-top px-3 py-2 rounded-full bg-blue-600 text-white shadow-md hover:bg-blue-700">â†‘ å›é ‚éƒ¨</button>

  <script>
    // ====== Data ======
    // å¢åŠ å®˜æ–¹é€£çµ link æ¬„ä½
    const toolsData = [
      {
        id: "academic",
        category_title: "ğŸ“‘ å­¸è¡“è«–æ–‡æœå°‹",
        core_value: "å»ºç«‹æŠ€è¡“è„ˆçµ¡ï¼Œå°‹æ‰¾å¤–éƒ¨çŸ¥è­˜ï¼Œæ–‡ç»åˆ†æã€‚",
        border_hex: "#14b8a6", // teal-500
        border_color: "border-teal-500",
        bg_color: "bg-teal-50",
        tools: [
          { name: "Elicit", rating: 4.5, link: "https://elicit.com/", function: "å°‡å¤šç¯‡æ–‡ç»æ‘˜è¦ä¸¦çµæ§‹åŒ–ã€‚", pros: "AI ç”Ÿæˆæ‘˜è¦æº–ç¢ºï¼Œå¯æ¯”å°ç ”ç©¶ã€‚", cons: "å…è²»åŠŸèƒ½æœ‰é™ï¼Œç„¡æ³•ç¹ªè£½å¼•æ–‡åœ–ã€‚", suitable_for: "å¿«é€Ÿç³»çµ±åœ°æ•´ç†èˆ‡ç¸½çµè«–æ–‡ã€‚" },
          { name: "Connected Papers", rating: 4.0, link: "https://www.connectedpapers.com/", function: "è¦–è¦ºåŒ–å‘ˆç¾æ–‡ç»é–“çš„å¼•ç”¨é—œä¿‚ã€‚", pros: "åœ–è­œç›´è¦ºæ˜“æ‡‚ï¼Œæ‰¾å‡ºé ˜åŸŸæ ¸å¿ƒã€‚", cons: "å¿…é ˆæä¾›ä¸€ç¯‡æ ¸å¿ƒè«–æ–‡æ‰èƒ½åˆ†æã€‚", suitable_for: "æ¢ç´¢å­¸è¡“åœ°åœ–åŠæ­·å²ç™¼å±•ã€‚" },
          { name: "Litmaps", rating: 4.0, link: "https://www.litmaps.com/", function: "è¿½è¹¤æ–‡ç»æ¼”åŒ–ï¼Œå»ºç«‹å¼•æ–‡ç¶²è·¯ã€‚", pros: "å•Ÿå‹•æ–¹å¼å½ˆæ€§ï¼Œå¯è¨­å®šæœ€æ–°è¿½è¹¤ã€‚", cons: "ç¼ºä¹æ·±åº¦å…§å®¹æ‘˜è¦ï¼Œä»‹é¢ç¨æ…¢ã€‚", suitable_for: "æŒæ¡ç ”ç©¶ä¸»é¡Œçš„æœ€æ–°é€²å±•ã€‚" },
          { name: "Keenious", rating: 3.0, link: "https://www.keenious.com/", function: "å¯«ä½œæ™‚å³æ™‚æ¨è–¦ç›¸é—œæ–‡ç»ã€‚", pros: "åœ¨æ–‡æ›¸ä¸­å³æ™‚è¼”åŠ©å°‹æ‰¾ä½è­‰è³‡æ–™ã€‚", cons: "æ¨è–¦çµæœå»£åº¦èˆ‡æ·±åº¦è¼ƒç‚ºæ™®é€šã€‚", suitable_for: "æ’°å¯«å ±å‘Šæ™‚éœ€è¦å³æ™‚æ–‡ç»åƒè€ƒã€‚" }
        ]
      },
      {
        id: "assistant",
        category_title: "ğŸŒ é€šç”¨å‹ AI åŠ©ç†",
        core_value: "å¤šæ¨¡æ…‹å•ç­”èˆ‡å‰µé€ æ€§è¼”åŠ©ï¼Œå¿«é€Ÿå–å¾—è·¨é ˜åŸŸè³‡è¨Šã€‚",
        border_hex: "#6366f1", // indigo-500
        border_color: "border-indigo-500",
        bg_color: "bg-indigo-50",
        tools: [
          { name: "ChatGPT", rating: 4.5, link: "https://chat.openai.com/", function: "å¼·å¤§çš„èªè¨€ç”Ÿæˆèˆ‡å°è©±ã€‚", pros: "è™•ç†å¤šæ¨£ä»»å‹™ï¼Œä»‹é¢ç°¡æ½”ã€‚", cons: "çŸ¥è­˜éå³æ™‚ï¼Œé ˆæ­é…å¤–æ›ã€‚", suitable_for: "å…§å®¹å‰µä½œã€ç¨‹å¼ç¢¼è¼”åŠ©ã€‚" },
          { name: "Gemini", rating: 4.5, link: "https://gemini.google.com/", function: "çµåˆæœå°‹èˆ‡å¤šæ¨¡æ…‹èƒ½åŠ›ã€‚", pros: "å³æ™‚è³‡è¨Šæ•´åˆï¼Œå¯è™•ç†åœ–ç‰‡ã€‚", cons: "éœ€ç™»å…¥ Google å¸³è™Ÿæ‰èƒ½ä½¿ç”¨ã€‚", suitable_for: "è³‡è¨ŠæŸ¥è©¢ã€æ•¸æ“šåˆ†æã€è·¨åª’æã€‚" },
          { name: "Perplexity AI", rating: 3.0, link: "https://www.perplexity.ai/", function: "å°ˆæ³¨æ–¼æä¾›æœ‰å¼•ç”¨çš„ç­”æ¡ˆã€‚", pros: "ç­”æ¡ˆå¯é åº¦é«˜ï¼Œè‡ªå‹•æä¾›ä¾†æºã€‚", cons: "å°è©±èƒ½åŠ›è¼ƒå¼±ï¼Œå‰µé€ æ€§ä¸é«˜ã€‚", suitable_for: "å¿«é€ŸæŸ¥æ‰¾éœ€è¦ä½è­‰çš„è³‡æ–™ã€‚" }
        ]
      },
      {
        id: "internal",
        category_title: "ğŸ“Š å…§éƒ¨è³‡æ–™åˆ†æ",
        core_value: "æ•´åˆã€æ‘˜è¦ç§äººæˆ–ä¼æ¥­å…§éƒ¨æ–‡ä»¶ã€‚",
        border_hex: "#22c55e", // green-500
        border_color: "border-green-500",
        bg_color: "bg-green-50",
        tools: [
          { name: "NotebookLM", rating: 5.0, link: "https://notebooklm.google/", function: "æ·±åº¦æ•´åˆ Google Docs/Drive è³‡æ–™ï¼Œé€²è¡Œåˆ†æèˆ‡æ‘˜è¦ã€‚", pros: "çµåˆè‡ªå®¶ç”Ÿæ…‹ç³»ï¼Œè³‡æ–™å®‰å…¨æ€§é«˜ï¼Œæ·±åº¦åˆ†æèƒ½åŠ›å¼·ã€‚", cons: "åƒ…æ”¯æ´æ–‡å­—é¡æ–‡ä»¶ (å¦‚ Docs/PDF)ï¼›ä¸æ”¯æ´ç›´æ¥é€£çµ Notion æˆ–è©¦ç®—è¡¨ã€‚", suitable_for: "å°ˆæ¡ˆç®¡ç†ã€æ·±å…¥ç ”ç©¶å…§éƒ¨æ–‡ä»¶ã€‚" },
          { name: "SciSpace", rating: 4.0, link: "https://scispace.com/chat-pdf", function: "è«–æ–‡ PDF æ™ºæ…§é–±è®€èˆ‡å•ç­”ã€‚", pros: "å¯é‡å°å–®ä¸€æˆ–å¤šå€‹ä¸Šå‚³æª”æ¡ˆé€²è¡Œæ·±å…¥äº’å‹•å¼å•ç­”ã€‚", cons: "éœ€æ‰‹å‹•ä¸Šå‚³æ–‡ä»¶ï¼Œéè‡ªå‹•é€£æ¥è³‡æ–™åº«ã€‚", suitable_for: "æ·±åº¦ç ”è®€ç‰¹å®šè«–æ–‡ã€å ±å‘Šã€‚" },
          { name: "Mindgrasp AI", rating: 3.0, link: "https://mindgrasp.ai/", function: "å¾ä»»ä½•åª’é«”ï¼ˆéŸ³è¨Šã€è¦–è¨Šã€æ–‡ä»¶ï¼‰æå–é—œéµè³‡è¨Šã€‚", pros: "æ”¯æ´å¤šåª’é«”æ ¼å¼ï¼Œè½‰æ›æ•ˆç‡é«˜ã€‚", cons: "æº–ç¢ºæ€§å¯èƒ½ä¸å¦‚ç´”æ–‡å­—è™•ç†å·¥å…·ã€‚", suitable_for: "å¿«é€Ÿæ¶ˆåŒ–æœƒè­°è¨˜éŒ„ã€å½±éŸ³æ•™æã€‚" }
        ]
      },
      {
        id: "visual",
        category_title: "ğŸ¨ è¦–è¦ºèˆ‡æ¦‚å¿µè™•ç†",
        core_value: "å¿«é€Ÿç”Ÿæˆåœ–åƒã€æµç¨‹åœ–ï¼Œå°‡æŠ½è±¡æ¦‚å¿µè¦–è¦ºåŒ–ã€‚",
        border_hex: "#f97316", // orange-500
        border_color: "border-orange-500",
        bg_color: "bg-orange-50",
        tools: [
          { name: "Leo AI", rating: 3.0, link: "https://leoapp.com/", function: "å¿«é€Ÿå°‡æ–‡å­—è½‰ç‚ºæµç¨‹åœ–ã€å¿ƒæ™ºåœ–ç­‰ã€‚", pros: "æ¦‚å¿µè¦–è¦ºåŒ–é€Ÿåº¦å¿«ï¼Œæ“ä½œç°¡å–®ã€‚", cons: "è¤‡é›œåœ–è¡¨ä»éœ€æ‰‹å‹•èª¿æ•´ã€‚", suitable_for: "åˆæ­¥ç™¼æƒ³ã€æ•´ç†æ€è·¯ã€æœƒè­°ç°¡å ±ã€‚" },
          { name: "Gemini", rating: 4.5, link: "https://gemini.google.com/", function: "å¼·å¤§å¤šæ¨¡æ…‹èƒ½åŠ›ï¼Œè™•ç†åŠç”Ÿæˆåœ–ç‰‡ã€‚", pros: "ç›´æ¥åˆ†æåœ–ç‰‡ã€ç”Ÿæˆå‰µæ„åœ–åƒï¼Œç„¡éœ€åˆ‡æ›å·¥å…·ã€‚", cons: "éå°ˆé–€ç¹ªåœ–è»Ÿé«”ï¼Œæ§åˆ¶ç²¾ç´°åº¦æœ‰æ¥µé™ã€‚", suitable_for: "åœ–ç‰‡å…§å®¹ç†è§£ã€éˆæ„Ÿç™¼æƒ³ã€è¼”åŠ©è¨­è¨ˆã€‚" }
        ]
      },
      {
        id: "eng",
        category_title: "âš™ï¸ å·¥ç¨‹æ¨¡æ“¬å„ªåŒ–",
        core_value: "é€²è¡Œçµæ§‹ã€åŠ›å­¸å„ªåŒ–ï¼Œè¼”åŠ©å·¥ç¨‹è¨­è¨ˆèˆ‡è™›æ“¬æ¸¬è©¦ã€‚",
        border_hex: "#ef4444", // red-500
        border_color: "border-red-500",
        bg_color: "bg-red-50",
        tools: [
          { name: "Altair DesignAI", rating: 4.5, link: "https://altair.com/designai", function: "åˆ©ç”¨ AI è¼”åŠ©çµæ§‹å’Œæ‹“æ’²å„ªåŒ–ã€‚", pros: "èˆ‡å°ˆæ¥­ CAE å·¥å…·æ•´åˆï¼Œæé«˜è¨­è¨ˆæ•ˆç‡ã€‚", cons: "å­¸ç¿’æ›²ç·šè¼ƒé«˜ï¼Œéœ€å…·å‚™å·¥ç¨‹èƒŒæ™¯ã€‚", suitable_for: "æ±½è»Šã€èˆªå¤ªç­‰é ˜åŸŸçš„çµæ§‹è¼•é‡åŒ–èˆ‡å„ªåŒ–ã€‚" }
        ]
      },
      {
        id: "ppt",
        category_title: "ğŸ“„ PPT æ–‡ä»¶è£½ä½œ",
        core_value: "è‡ªå‹•ç”Ÿæˆç°¡å ±å¤§ç¶±ã€å…§å®¹èˆ‡è¨­è¨ˆï¼Œç¯€çœæ’ç‰ˆæ™‚é–“ã€‚",
        border_hex: "#a855f7", // purple-500
        border_color: "border-purple-500",
        bg_color: "bg-purple-50",
        tools: [
          { name: "Tome", rating: 5.0, link: "https://tome.app/", function: "ä»¥æ•…äº‹æ•˜äº‹ç‚ºä¸»ï¼Œè‡ªå‹•åŒ–æ’ç‰ˆèˆ‡å¤šåª’é«”æ•´åˆã€‚", pros: "ä»‹é¢ç²¾ç¾ï¼Œç”Ÿæˆå…§å®¹çš„è¨­è¨ˆæ„Ÿå’Œæµæš¢åº¦æ¥µé«˜ã€‚", cons: "è¼¸å‡ºæ ¼å¼ä¸ç›´æ¥æ˜¯ PPTï¼Œä¸»è¦ç‚ºç¶²é åˆ†äº«ã€‚", suitable_for: "è£½ä½œé«˜è³ªæ„Ÿã€æ•…äº‹æ€§çš„ç°¡å ±æˆ–ç¶²é å‹æ–‡ä»¶ã€‚" },
          { name: "Gamma", rating: 4.5, link: "https://gamma.app/", function: "å¿«é€Ÿç”Ÿæˆç°¡å ±ã€æ–‡ä»¶å’Œç¶²é ï¼Œæ”¯æ´å¤šèªè¨€ã€‚", pros: "å¯éˆæ´»èª¿æ•´å¡ç‰‡å¼ä½ˆå±€ï¼Œæ”¯æ´ PPTX åŒ¯å‡ºã€‚", cons: "è¤‡é›œçš„å…§å®¹ç”Ÿæˆä»éœ€äººå·¥å¹²é ã€‚", suitable_for: "å¿«é€Ÿèµ·è‰å ±å‘Šã€èª²ç¨‹ææ–™ï¼Œéœ€ PPT æ ¼å¼ã€‚" },
          { name: "Beautiful.ai", rating: 3.0, link: "https://www.beautiful.ai/", function: "å°ˆæ³¨æ–¼è¨­è¨ˆè¦ç¯„ï¼Œç¢ºä¿æ¯ä¸€é ç°¡å ±éƒ½å°ˆæ¥­ç¾è§€ã€‚", pros: "è¨­è¨ˆæ¨£å¼è±å¯Œï¼Œè‡ªå‹•éµå¾ªè¨­è¨ˆåŸå‰‡ã€‚", cons: "å…§å®¹ç”Ÿæˆèƒ½åŠ›è¼ƒå¼±ï¼Œä¸»è¦å´é‡è¨­è¨ˆè¼”åŠ©ã€‚", suitable_for: "å°è¨­è¨ˆè¦æ±‚é«˜ï¼Œä½†å…§å®¹å·²æº–å‚™å¥½çš„æƒ…æ³ã€‚" }
        ]
      }
    ];

    // ====== Helpers ======
    function createStar(type) {
      // type: 'full' | 'half' | 'empty'
      const paths = {
        full: 'M12 .587l3.668 7.431 8.2 1.192-5.934 5.786 1.402 8.168L12 18.896l-7.336 3.868 1.402-8.168L.132 9.21l8.2-1.192L12 .587z',
        empty: 'M12 2.248l2.95 5.98 6.6.959-4.775 4.656 1.127 6.575L12 17.77l-5.902 3.148 1.127-6.575-4.775-4.656 6.6-.959L12 2.248m0-2.248l-3.668 7.431-8.2 1.192 5.934 5.786-1.402 8.168L12 18.896l7.336 3.868-1.402-8.168 5.934-5.786-8.2-1.192L12 0z',
        half:  'M12 .587l3.668 7.431 8.2 1.192-5.934 5.786 1.402 8.168L12 18.896V.587z M12 18.896l-7.336 3.868 1.402-8.168L.132 9.21l8.2-1.192L12 .587'
      };
      const d = type === 'full' ? paths.full : type === 'half' ? paths.half : paths.empty;
      return `<svg class="rating-star" viewBox="0 0 24 24" aria-hidden="true"><path d="${d}" fill="${type==='empty' ? '#e5e7eb' : '#F59E0B'}"/></svg>`;
    }

    function renderRating(rating) {
      const full = Math.floor(rating);
      const hasHalf = rating % 1 >= 0.5 && rating % 1 < 1;
      let html = `<span class="font-mono text-sm mr-1">${rating.toFixed(1)}</span>`;
      for (let i = 0; i < full; i++) html += createStar('full');
      if (hasHalf) html += createStar('half');
      for (let i = full + (hasHalf ? 1 : 0); i < 5; i++) html += createStar('empty');
      return html;
    }

    function avg(arr) {
      if (!arr.length) return 0;
      const s = arr.reduce((a, b) => a + b, 0);
      return Math.round((s / arr.length) * 10) / 10;
    }

    // ====== Rendering ======
    function renderToolCard(tool) {
      return `
        <div class="p-4 bg-white rounded-xl shadow-lg hover:shadow-xl transition duration-300 border border-gray-100">
          <div class="flex justify-between items-start mb-2">
            <h4 class="text-xl font-bold text-gray-800">
              <a href="${tool.link}" class="tool-link underline decoration-dotted hover:decoration-solid" target="_blank" rel="noopener">${tool.name}</a>
            </h4>
            <div class="flex items-center space-x-1 text-sm font-semibold">${renderRating(tool.rating)}</div>
          </div>
          <div class="space-y-3 text-sm text-gray-700">
            <p><span class="font-semibold text-blue-600">ä¸»è¦åŠŸèƒ½ï¼š</span>${tool.function}</p>
            <div class="flex flex-col sm:flex-row sm:space-x-4 space-y-3 sm:space-y-0">
              <p class="flex-1 bg-green-50 p-2 rounded-lg border border-green-200"><span class="font-semibold text-green-700">æœ€å¤§å„ªé»ï¼š</span>${tool.pros}</p>
              <p class="flex-1 bg-red-50 p-2 rounded-lg border border-red-200"><span class="font-semibold text-red-700">ä¸»è¦ç¼ºé»ï¼š</span>${tool.cons}</p>
            </div>
            <p class="bg-gray-100 p-2 rounded-lg border border-gray-200"><span class="font-semibold text-gray-800">é©åˆç”¨ä¾†ï¼š</span>${tool.suitable_for}</p>
          </div>
        </div>
      `;
    }

    function renderCategory(category, tools) {
      const toolCardsHtml = tools.map(renderToolCard).join('');
      const avgScore = avg(tools.map(t => t.rating));

      return `
        <section id="${category.id}" class="category-card ${category.border_color} ${category.bg_color} p-6 rounded-2xl shadow-md" style="border-left-color:${category.border_hex}">
          <div class="flex items-start justify-between gap-4 mb-2">
            <h2 class="text-2xl font-bold text-gray-900 flex items-center gap-2">
              <span>${category.category_title}</span>
              <span class="text-sm font-semibold text-gray-600 bg-white/60 rounded-full px-2 py-0.5 border border-gray-200">å¹³å‡ ${avgScore.toFixed(1)}â˜…</span>
            </h2>
            <a href="#top" class="hidden md:inline text-sm text-blue-700 hover:underline">å›åˆ°å°è¦½</a>
          </div>
          <p class="text-base text-gray-700 mb-6 pb-3 border-b border-gray-200">
            <span class="font-semibold">æ ¸å¿ƒåƒ¹å€¼ï¼š</span>${category.core_value}
          </p>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">${toolCardsHtml}</div>
        </section>
      `;
    }

    function renderAll(data) {
      const container = document.getElementById('tool-container');
      const html = data.map(cat => renderCategory(cat, cat.tools)).join('');
      container.innerHTML = html;
    }

    // ====== Search & Sort ======
    let currentData = JSON.parse(JSON.stringify(toolsData));
    let sortDesc = true;

    function applySearchSort() {
      const q = (document.getElementById('searchInput').value || '').trim().toLowerCase();
      const filtered = toolsData.map(cat => {
        const tools = cat.tools.filter(t => {
          const s = `${t.name} ${t.function} ${t.pros} ${t.cons} ${t.suitable_for}`.toLowerCase();
          return !q || s.includes(q);
        });
        const toolsSorted = tools.sort((a,b) => sortDesc ? b.rating - a.rating : a.rating - b.rating);
        return { ...cat, tools: toolsSorted };
      }).filter(cat => cat.tools.length > 0);
      currentData = filtered;
      renderAll(currentData);
    }

    document.addEventListener('DOMContentLoaded', () => {
      renderAll(currentData);

      const search = document.getElementById('searchInput');
      const sortBtn = document.getElementById('sortBtn');
      const resetBtn = document.getElementById('resetBtn');
      const topBtn = document.getElementById('backToTop');

      search.addEventListener('input', applySearchSort);
      sortBtn.addEventListener('click', () => {
        sortDesc = !sortDesc;
        sortBtn.textContent = sortDesc ? 'ä¾è©•åˆ†é«˜â†’ä½æ’åº' : 'ä¾è©•åˆ†ä½â†’é«˜æ’åº';
        applySearchSort();
      });
      resetBtn.addEventListener('click', () => {
        search.value = '';
        sortDesc = true;
        currentData = JSON.parse(JSON.stringify(toolsData));
        renderAll(currentData);
        sortBtn.textContent = 'ä¾è©•åˆ†é«˜â†’ä½æ’åº';
      });

      // back to top visibility
      window.addEventListener('scroll', () => {
        const y = window.scrollY || document.documentElement.scrollTop;
        topBtn.style.display = y > 300 ? 'block' : 'none';
      });
      topBtn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
    });
  </script>
</body>
</html>
